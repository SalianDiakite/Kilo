{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Projet-01/projet-perso/Kilo/lib/hooks/use-require-auth.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { useData } from \"@/lib/data-provider\"\r\n\r\n/**\r\n * Hook pour forcer la connexion sur une page\r\n * Redirige automatiquement vers /login si l'utilisateur n'est pas connecté\r\n * \r\n * @example\r\n * ```tsx\r\n * function ProtectedPage() {\r\n *   const { isAuthenticated, loading } = useRequireAuth()\r\n *   \r\n *   if (loading) return <div>Chargement...</div>\r\n *   \r\n *   return <div>Contenu protégé</div>\r\n * }\r\n * ```\r\n */\r\nexport function useRequireAuth() {\r\n  const { isAuthenticated, loading, useMockData } = useData()\r\n  const router = useRouter()\r\n\r\n  useEffect(() => {\r\n    // En mode mock, on ne redirige jamais (pour le développement)\r\n    if (useMockData) return\r\n\r\n    // Si le chargement est terminé et l'utilisateur n'est pas connecté\r\n    if (!loading && !isAuthenticated) {\r\n      const currentPath = window.location.pathname\r\n      router.push(`/login?redirect=${encodeURIComponent(currentPath)}`)\r\n    }\r\n  }, [isAuthenticated, loading, useMockData, router])\r\n\r\n  return { isAuthenticated, loading }\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAqBO,SAAS;;IACd,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAA,sIAAO;IACzD,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACR,8DAA8D;YAC9D,IAAI,aAAa;YAEjB,mEAAmE;YACnE,IAAI,CAAC,WAAW,CAAC,iBAAiB;gBAChC,MAAM,cAAc,OAAO,QAAQ,CAAC,QAAQ;gBAC5C,OAAO,IAAI,CAAC,CAAC,gBAAgB,EAAE,mBAAmB,cAAc;YAClE;QACF;mCAAG;QAAC;QAAiB;QAAS;QAAa;KAAO;IAElD,OAAO;QAAE;QAAiB;IAAQ;AACpC;GAhBgB;;QACoC,sIAAO;QAC1C,kJAAS"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Projet-01/projet-perso/Kilo/components/auth/auth-guard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useData } from \"@/lib/data-provider\"\r\nimport { Loader2 } from \"@/components/icons\"\r\n\r\ninterface AuthGuardProps {\r\n  children: React.ReactNode\r\n  fallback?: React.ReactNode\r\n}\r\n\r\n/**\r\n * Composant de protection qui affiche un loader pendant le chargement\r\n * et redirige automatiquement si l'utilisateur n'est pas connecté\r\n * \r\n * @example\r\n * ```tsx\r\n * <AuthGuard>\r\n *   <ProtectedContent />\r\n * </AuthGuard>\r\n * ```\r\n */\r\nexport function AuthGuard({ children, fallback }: AuthGuardProps) {\r\n  const { currentUser } = useData()\r\n\r\n  // Le middleware a déjà vérifié l'authentification\r\n  // On affiche directement le contenu\r\n  return <>{children}</>\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAqBO,SAAS,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAkB;;IAC9D,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,sIAAO;IAE/B,kDAAkD;IAClD,oCAAoC;IACpC,qBAAO;kBAAG;;AACZ;GANgB;;QACU,sIAAO;;;KADjB"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Projet-01/projet-perso/Kilo/app/%28protected%29/layout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useRequireAuth } from \"@/lib/hooks/use-require-auth\"\r\nimport { AuthGuard } from \"@/components/auth/auth-guard\"\r\n\r\n/**\r\n * Layout pour toutes les pages protégées\r\n * \r\n * Ce layout s'applique automatiquement à toutes les pages dans le groupe (protected)\r\n * Il gère la protection et l'état de chargement de manière centralisée\r\n */\r\nexport default function ProtectedLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  // Protection automatique pour toutes les pages de ce groupe\r\n  useRequireAuth()\r\n\r\n  return (\r\n    <AuthGuard>\r\n      {children}\r\n    </AuthGuard>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;;;AAJA;;;AAYe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;;IACC,4DAA4D;IAC5D,IAAA,2JAAc;IAEd,qBACE,6LAAC,oJAAS;kBACP;;;;;;AAGP;GAbwB;;QAMtB,2JAAc;;;KANQ"}}]
}